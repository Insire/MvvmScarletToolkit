<configurablewindow:ConfigurableWindow x:Class="DemoApp.MainWindow"
                                       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                                       xmlns:browser="clr-namespace:MvvmScarletToolkit.FileSystemBrowser;assembly=MvvmScarletToolkit.FileSystemBrowser"
                                       xmlns:configurablewindow="clr-namespace:MvvmScarletToolkit.ConfigurableWindow;assembly=MvvmScarletToolkit.ConfigurableWindow"
                                       xmlns:local="clr-namespace:DemoApp"
                                       xmlns:observables="clr-namespace:MvvmScarletToolkit.Observables;assembly=MvvmScarletToolkit.Observables"
                                       Title="MainWindow"
                                       Width="1025"
                                       Height="350">
    <configurablewindow:ConfigurableWindow.Resources>
        <!--  create an instance of Scenes which we can use as datacontext. its filled on creation with static data  -->
        <local:NavigationViewModel x:Key="ScenesViewModel" />
    </configurablewindow:ConfigurableWindow.Resources>

    <!--  set the datacontext to the ScenesViewModel  -->
    <Grid DataContext="{StaticResource ScenesViewModel}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <DockPanel Grid.Column="0" LastChildFill="True">
            <TextBlock DockPanel.Dock="Top">Navigation</TextBlock>

            <!--  display the Scenes inside the ScenesViewModel in a ListBox  -->
            <ListBox x:Name="Scenes"
                     ItemsSource="{Binding Items}"
                     ScrollViewer.HorizontalScrollBarVisibility="Auto"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     SelectionMode="Single">
                <!--  sync the IsSelected property of the ListBoxItem to the SceneViewModel.IsSelected  -->
                <ListBox.ItemContainerStyle>
                    <Style BasedOn="{StaticResource {x:Type ListBoxItem}}" TargetType="{x:Type ListBoxItem}">
                        <Setter Property="IsSelected" Value="{Binding IsSelected}" />
                    </Style>
                </ListBox.ItemContainerStyle>
                <ListBox.Resources>
                    <DataTemplate DataType="{x:Type local:ParentViewModel}">
                        <TextBlock>ParentViewModel</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type local:ProcessingImagesViewModel}">
                        <TextBlock>Drag and Drop</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type local:DataContextSchenanigansViewModel}">
                        <TextBlock>DataContextSchenanigansViewModel</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type local:ParentsViewModel}">
                        <TextBlock>ParentsViewModel</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type local:SnakeView}">
                        <TextBlock>Snake</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type local:AsyncCommandViewModelStuff}">
                        <TextBlock>AsyncCommands</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type browser:FileSystemViewModel}">
                        <TextBlock>FileSystem</TextBlock>
                    </DataTemplate>
                    <DataTemplate DataType="{x:Type local:Images}">
                        <TextBlock>Images</TextBlock>
                    </DataTemplate>
                </ListBox.Resources>
                <ListBox.ItemTemplate>
                    <DataTemplate DataType="{x:Type observables:Scene}">
                        <ContentControl Content="{Binding Content}" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </DockPanel>

        <GridSplitter Grid.Column="1"
                      Width="5"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Stretch" />

        <!--  fill a contentcontrol with the content from the selected scene  -->
        <ContentControl Grid.Column="2" Content="{Binding ElementName=Scenes, Path=SelectedItem.Content}">
            <ContentControl.Resources>
                <DataTemplate DataType="{x:Type local:ParentViewModel}">
                    <local:Default />
                </DataTemplate>
                <DataTemplate DataType="{x:Type local:ParentsViewModel}">
                    <local:DataGrids />
                </DataTemplate>
                <DataTemplate DataType="{x:Type local:AsyncCommandViewModelStuff}">
                    <local:AsyncCommands />
                </DataTemplate>
                <DataTemplate DataType="{x:Type local:DataContextSchenanigansViewModel}">
                    <local:DataContextSchenanigans />
                </DataTemplate>
                <DataTemplate DataType="{x:Type local:ProcessingImagesViewModel}">
                    <local:DragAndDrop />
                </DataTemplate>
                <DataTemplate DataType="{x:Type browser:FileSystemViewModel}">
                    <browser:FileSystemBrowser />
                </DataTemplate>
                <DataTemplate DataType="{x:Type local:Images}">
                    <local:ImagesView />
                </DataTemplate>
            </ContentControl.Resources>
        </ContentControl>
    </Grid>
</configurablewindow:ConfigurableWindow>
